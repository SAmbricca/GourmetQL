<ion-header class="ion-no-border">
  <ion-toolbar class="empty-toolbar">
    <!-- Header vacÃ­o -->
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="gourmet-content">
  
  <!-- Header Interno Integrado -->
  <div class="internal-header">
    <h1 class="gourmet-title">Bienvenido</h1>
    <ion-button (click)="cerrarSesion()" fill="clear" class="logout-btn">
      <ion-icon slot="icon-only" name="log-out-outline"></ion-icon>
    </ion-button>
  </div>

  <div class="user-info-container">
    <div class="avatar-wrapper">
      <div class="avatar-ring">
        <img 
          [src]="clienteActual?.foto_url || 'assets/avatar-default.png'" 
          alt="Foto de perfil"
          class="user-avatar"
        >
      </div>
    </div>
    
    <div class="welcome-text">
      <h2>{{ nombreCliente }}</h2>
      
      <!-- Estado Estilizado -->
      @if (verificandoEstado) {
        <div class="status-pill loading">
          <ion-spinner name="dots" color="dark"></ion-spinner>
          <span>Sincronizando...</span>
        </div>
      } @else {
        <div class="status-pill" [style.border-color]="estadoColorHex">
          <div class="dot" [style.background]="estadoColorHex"></div>
          <span [style.color]="estadoColorHex">{{ estadoTexto }}</span>
        </div>
      }
    </div>
  </div>

  <div class="opciones-container">
    <div class="section-divider">
      <span>Menu & Servicios</span>
    </div>

    <ion-grid>
      <ion-row>
        @for (opcion of opcionesDisponibles; track opcion.titulo) {
          <ion-col size="12" size-md="6">
            <ion-card 
              button 
              (click)="!opcion.deshabilitado && opcion.accion()"
              [class.card-disabled]="opcion.deshabilitado"
              class="menu-card"
            >
              <ion-card-header>
                <div class="opcion-header">
                  <div class="titulo-container">
                    <ion-card-title>{{ opcion.titulo }}</ion-card-title>
                    @if (opcion.badge && opcion.badge > 0) {
                      <ion-badge color="danger" class="notification-badge">
                        {{ opcion.badge }}
                      </ion-badge>
                    }
                  </div>
                  
                  @if (opcion.deshabilitado) {
                    <div class="lock-overlay">
                      <ion-icon name="lock-closed"></ion-icon>
                    </div>
                  }
                </div>
              </ion-card-header>
            </ion-card>
          </ion-col>
        }
      </ion-row>
    </ion-grid>
  </div>
</ion-content>